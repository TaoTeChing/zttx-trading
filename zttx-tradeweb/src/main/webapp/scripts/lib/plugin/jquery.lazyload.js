!function($,a,b,c){var d=$(a);$.fn.lazyload=function(e){function f(){var a=0;h.each(function(){var b=$(this);if(!i.skip_invisible||b.is(":visible"))if($.abovethetop(this,i)||$.leftofbegin(this,i));else if($.belowthefold(this,i)||$.rightoffold(this,i)){if(++a>i.failure_limit)return!1}else b.trigger("appear"),a=0})}var g,h=this,i={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:a,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return e&&(c!==e.failurelimit&&(e.failure_limit=e.failurelimit,delete e.failurelimit),c!==e.effectspeed&&(e.effect_speed=e.effectspeed,delete e.effectspeed),$.extend(i,e)),g=i.container===c||i.container===a?d:$(i.container),0===i.event.indexOf("scroll")&&g.bind(i.event,function(){return f()}),this.each(function(){var a=this,b=$(a);a.loaded=!1,(b.attr("src")===c||b.attr("src")===!1)&&b.is("img")&&b.attr("src",i.placeholder),b.one("appear",function(){if(!this.loaded){if(i.appear){var c=h.length;i.appear.call(a,c,i)}$("<img />").bind("load",function(){var c=b.attr("data-"+i.data_attribute);b.hide(),b.is("img")?b.attr("src",c):b.css("background-image","url('"+c+"')"),b[i.effect](i.effect_speed),a.loaded=!0;var d=$.grep(h,function(a){return!a.loaded});if(h=$(d),i.load){var e=h.length;i.load.call(a,e,i)}}).attr("src",b.attr("data-"+i.data_attribute))}}),0!==i.event.indexOf("scroll")&&b.bind(i.event,function(){a.loaded||b.trigger("appear")})}),d.bind("resize",function(){f()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&d.bind("pageshow",function(a){a.originalEvent&&a.originalEvent.persisted&&h.each(function(){$(this).trigger("appear")})}),$(b).ready(function(){f()}),this},$.belowthefold=function(b,e){var f;return f=e.container===c||e.container===a?(a.innerHeight?a.innerHeight:d.height())+d.scrollTop():$(e.container).offset().top+$(e.container).height(),f<=$(b).offset().top-e.threshold},$.rightoffold=function(b,e){var f;return f=e.container===c||e.container===a?d.width()+d.scrollLeft():$(e.container).offset().left+$(e.container).width(),f<=$(b).offset().left-e.threshold},$.abovethetop=function(b,e){var f;return f=e.container===c||e.container===a?d.scrollTop():$(e.container).offset().top,f>=$(b).offset().top+e.threshold+$(b).height()},$.leftofbegin=function(b,e){var f;return f=e.container===c||e.container===a?d.scrollLeft():$(e.container).offset().left,f>=$(b).offset().left+e.threshold+$(b).width()},$.inviewport=function(a,b){return!($.rightoffold(a,b)||$.leftofbegin(a,b)||$.belowthefold(a,b)||$.abovethetop(a,b))},$.extend($.expr[":"],{"below-the-fold":function(a){return $.belowthefold(a,{threshold:0})},"above-the-top":function(a){return!$.belowthefold(a,{threshold:0})},"right-of-screen":function(a){return $.rightoffold(a,{threshold:0})},"left-of-screen":function(a){return!$.rightoffold(a,{threshold:0})},"in-viewport":function(a){return $.inviewport(a,{threshold:0})},"above-the-fold":function(a){return!$.belowthefold(a,{threshold:0})},"right-of-fold":function(a){return $.rightoffold(a,{threshold:0})},"left-of-fold":function(a){return!$.rightoffold(a,{threshold:0})}})}(jQuery,window,document);