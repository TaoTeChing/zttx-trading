define("common/index",["$","arale/switchable/1.0.1/slide","gallery/turn/0.0.1/turn"],function(require,exports,module){var $=require("$"),Slide=require("arale/switchable/1.0.1/slide"),Turn=require("gallery/turn/0.0.1/turn");$.realMoveFn=function(a){function b(){e=setInterval(function(){$(a.parentID).stop().animate({marginTop:d},function(){$(a.childID).last().css("opacity","0").prependTo($(a.parentID)).animate({opacity:"1"}),$(a.parentID).css({marginTop:0})})},f)}var c=$(a.childID).length,d=$(a.childID).height()+a.pad,e=null,f=a.time||6e3;c>a._len&&(b(),$(a.parentID).hover(function(){clearInterval(e)},function(){b()}))};var Index={partA:function(){this.slide(),this.overstepText(),this.brandLast()},partC:function(){this.realTime1()},partD:function(){this.dealImg()},partE:function(){this.realTime2()},partF:function(){this.turnImg()},partG:function(){this.infoSlide()},partH:function(){this.showSavingAmount()},slide:function(){var panels=$("#banner .ts-banner-item");panels.find("[data-animate]").each(function(a,b){$(b).data({ox:b.offsetLeft,oy:b.offsetTop})}).css({opacity:0});var slide=new Slide({element:"#banner",panels:"#banner .ts-banner-item",effect:"scrollx",interval:6180,viewSize:[800,250]}).on("switched",function(a,b){slidePlay(a,b)}),slidePlay=function(toIndex,fromIndex){var $from=$(panels).eq(fromIndex).find("[data-animate]").css({opacity:0});$from.each(function(a,b){$(b).css({left:$(b).data("ox"),top:$(b).data("oy")})});var $to=$(panels).eq(toIndex).find("[data-animate]");$to.each(function(i,o){var styles=eval($(o).data("animate"));styles.opacity=1,setTimeout(function(){$(o).animate(styles,618)},618*(i+1))})};slidePlay(0,1)},overstepText:function(){$(".product-item").hover(function(){$(this).find(".product-item-word").stop().animate({top:-30,height:100})},function(){$(this).find(".product-item-word").removeClass("active").stop().animate({top:0,height:66})})},brandLast:function(){$(".js-brand-last").hover(function(){$(this).stop().animate({"margin-top":-50},312)},function(){$(this).stop().animate({"margin-top":0},312)})},realTime1:function(){$.realMoveFn({parentID:".ts-list",childID:".ts-list li",_len:9,pad:0})},realTime2:function(){$.realMoveFn({parentID:".real-time-con",childID:".real-time",_len:6,pad:20})},dealImg:function(){$(".online-fair-start img").hover(function(){$(".online-fair-start img").stop().animate({opacity:.8}),$(this).stop().animate({opacity:1})},function(){$(".online-fair-start img").stop().animate({opacity:1})})},turnImg:function(){new Turn({element:"#brand_recommend",panels:"#brand_recommend div",count:10,interval:6180,animates:["bounceIn","bounceOut"],much:3}),$(".part-f").on("mouseenter mouseleave",".js-img-center a",function(a){var b=$(this).find("img");"mouseenter"==a.type&&($(this).css("border","1px solid #e1e1e1"),b[0].src=$(b).data("logo")),"mouseleave"==a.type&&($(this).css("border","0"),b[0].src=$(b).data("pic"))})},infoSlide:function(){var a=$(".info-list-pic .info-list-ul li").length;a>0&&new Slide({element:".info-list-pic",trigger:"",panels:".info-list-pic .info-list-ul li",effect:"scrollx",activeIndex:0})},showSavingAmount:function(){var a=$("#saving-amount"),b=this.formatNumber($.trim(a.html()));b=b.replace(/\d/g,function(a){return"<span>"+a+"</span>"}),$(a).html(b).show()},formatNumber:function(a){return a.length<=3?a:this.formatNumber(a.substr(0,a.length-3))+'<span class="comma">&nbsp;</span>'+a.substr(a.length-3)}};module.exports=Index});