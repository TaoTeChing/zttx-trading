!function($){$.fn.extend({slider:function(options){function showPics(a){var b=-a*sWidth;$($this).find("ul").stop(!0,!1).animate({left:b},opts.speed),$($this).find(".btn span").removeClass("on").eq(a).addClass("on")}function showFirPic(){$($this).find("ul").append($($this).find("ul li:first").clone());var a=-len*sWidth;$($this).find("ul").stop(!0,!1).animate({left:a},opts.speed,function(){$($this).find("ul").css("left","0"),$($this).find("ul li:last").remove()}),$($this).find(".btn span").removeClass("on").eq(0).addClass("on")}function showAnimate(index){$("[data-animate]").css({opacity:0});var nowli=$($this).find("ul li").eq(index),n=$(nowli).find("[data-animate]");n.css({position:"absolute"}).each(function(i,o){$(o).css({left:$(o).data("ox"),top:$(o).data("oy")});var styles=eval($(o).data("animate"));styles.opacity=1,setTimeout(function(){$(o).animate(styles,1e3)},618*i)})}var defaults={speed:500,isPage:!0,delay:5e3,autoPlay:!0,isDelay:!0,mousePause:!0},opts=$.extend(defaults,options),$this=$(this),sWidth=$($this).width(),len=$($this).find("ul li").length,index=0,picTimer;if($("[data-animate]").each(function(a,b){$(b).data({ox:$(b).css("left"),oy:$(b).css("top")})}),opts.isPage){for(var btn="<div class='btnBg'></div><div class='btn'>",i=0;len>i;i++)btn+="<span>"+(i+1)+"</span>";btn+="</div>",$($this).append(btn),$($this).find(".btnBg").css("opacity",.5),$($this).find(".btn span").mouseenter(function(){index=$($this).find(".btn span").index(this),showPics(index),showAnimate(index)}).eq(0).trigger("mouseenter")}$($this).find("ul").css("width",sWidth*(len+1)),$($this).find("ul li div").not("[data-animate]").hover(function(){$(this).siblings().css("opacity",.7)},function(){$($this).find("ul li div").css("opacity",1)}),opts.autoPlay&&(opts.mousePause?$($this).hover(function(){clearInterval(picTimer)},function(){picTimer=setInterval(function(){index==len-1?(showFirPic(),index=0):(index++,showPics(index)),showAnimate(index)},opts.delay)}).trigger("mouseleave"):picTimer=setInterval(function(){index==len?(showFirPic(),index=0):(index++,showPics(index)),showAnimate(index)},opts.delay))}})}(jQuery);