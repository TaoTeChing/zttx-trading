!function($){$.fn.extend({cartInit:function(a,b,c){var d={priceTag:".price",totalTag:".total",maxerror:"购买量太大",minerror:"商品没有达到起批量的要求"},e=$.extend(d,a),f=$(this),g=0;$(f).each(function(a,d){function f(){l>0?$(i).hasClass("disable")&&$(i).removeClass("disable"):($(i).addClass("disable"),l=0),k>=l?$(j).hasClass("disable")&&$(j).removeClass("disable"):($(j).addClass("disable"),l=k,remind("error",e.maxerror,function(){})),$(h).val(l),0==l?$(d).removeClass("js-notnull"):$(d).addClass("js-notnull"),$(d).addClass("js-ischange"),clearTimeout(g),g=setTimeout(function(){c&&c(l,d)},618),b&&b(l,d)}var h=$(d).find(".num-amount").click(function(){$(this).select()}),i=$('<button href="javascript:void(0)" class="num-minus disable">-</button>'),j=$('<button href="javascript:void(0)" class="num-plus">+</button>');h.parent().append(j).prepend(i);var k=Number($(h).data("max")),l=(Number($(h).data("min")),Number(h.val()));0==$(d).has(":disabled").length&&($(i).click(function(a){a.preventDefault(),l-=1,f()}),$(j).click(function(a){a.preventDefault(),l+=1,f()}),$(h).keyup(function(){l=Number($(this).val()),f()})),c&&c(l,d)})}})}(jQuery);