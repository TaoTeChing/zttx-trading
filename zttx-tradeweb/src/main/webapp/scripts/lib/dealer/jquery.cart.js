!function($){$.fn.extend({cartInit:function(a,b,c){var d={priceTag:".price",totalTag:".total",maxerror:"购买量太大",minerror:"商品没有达到起批量的要求"},e=$.extend(d,a),f=$(this),g=0;$(f).each(function(a,d){function f(){m>0?$(j).hasClass("disable")&&$(j).removeClass("disable"):($(j).addClass("disable"),m=0),l>=m?$(k).hasClass("disable")&&($(k).removeClass("disable"),i.removeClass("c-r")):($(k).addClass("disable"),m=l,$(".price + td").removeClass("c-r"),i.addClass("c-r"),remind("error",e.maxerror,function(){})),$(h).val(m),0==m?$(h).parent().parent().parent().removeClass("js-notnull"):$(h).parent().parent().parent().addClass("js-notnull"),$(h).parent().parent().parent().addClass("js-ischange");var a=$(h).parent().parent().parent().find(e.priceTag).text(),d=(Number(a)*m).toFixed(2);$(h).parent().parent().parent().find(e.totalTag).text(d),clearTimeout(g),g=setTimeout(function(){c(m,$(h).parent().parent().parent())},618),b()}var h=$(d).find(".txt-amount").click(function(){$(this).select()}),i=$(d).parent().prev(),j=$('<a href="javascript:void(0)" class="minus disable">-</a>'),k=$('<a href="javascript:void(0)" class="plus">+</a>');h.parent().append(k).prepend(j);var l=Number($(h).data("max")),m=(Number($(h).data("min")),Number(h.val()));0==$(d).has(":disabled").length&&($(j).click(function(a){a.preventDefault(),m-=1,f()}),$(k).click(function(a){a.preventDefault(),m+=1,f()}),$(h).keyup(function(){m=Number($(this).val()),f()}))})}})}(jQuery);