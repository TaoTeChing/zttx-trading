function checkAll(a,b,c){$(document).on("click",a,function(){var a=this;$(b).each(function(b,c){c.disabled||(c.checked=a.checked)}),$.isFunction(c)&&c()}),$(document).on("click",b,function(){$(a)[0].checked=$(b+":checked").not(":disabled").length==$(b).length,$.isFunction(c)&&c()})}function setAlpha(a,b){b||$(a).last().addClass("last"),$(a).each(function(a,c){a%b==0&&$(c).addClass("alpha")})}var dealerDefMenu={addDefMenu:function(){var a=window.location.pathname;$("#menuForwardUrl").val(a),$.post("/dealer/defMenu/save",$("#logout-form").serialize(),function(b){if(b.code==zttx.SUCCESS){var c=b.object.refrenceId,d=b.object.menuName,e='<li data-id="'+c+'">                                <a href="'+a+'" title="">'+d+'</a>                                <b style="display: none;" class="yahei" title="删除该快捷导航">X</b>                            </li>';$(e).appendTo($(".quickmenu ul")),$("#add_cloud").fadeIn(),setTimeout(function(){$("#add_cloud").fadeOut()},3e3)}else remind("error",b.message)},"json")}},qkm=$(".quickmenu");$(".treetitle .quickbtn").hover(function(){$(qkm).find("li").length>0&&$(qkm).show()},function(){$(qkm).hide()}),$("#add_cloud").on("click",".close",function(){$(this).parent().hide()}),qkm.on("mouseenter mouseleave","li",function(a){var b=$(this).find("b");"mouseenter"==a.type?b.show():"mouseleave"==a.type&&b.hide()}),qkm.on("click","li b",function(){var a=$(this),b=a.parents("li").data("id");$.post("/dealer/defMenu/del",{refrenceId:b},function(b){b.code==zttx.SUCCESS?(a.parent().remove(),0==$(qkm).find("li").length&&$(qkm).hide()):remind("error",b.message)},"json")}),$(".alerts .alert b").click(function(){$(this).parent().slideUp(300,function(){$(this).remove()})}),$(".treepanel").on("click",".j_item .item_hd",function(){$(this).parent().siblings().removeClass("current_item"),$(this).parent().toggleClass("current_item")}),$(".treepanel .j_hover_item").hover(function(){$(this).siblings().removeClass("current_item"),$(this).toggleClass("current_item")}),$(".treepanel .accordion li.on").prev().addClass("nb"),$("select.js_select,select.js-select").SelectBox(),$(".js_price,.js-price").isPrice(),$(".js_number,.js-number").isPrice(!1),$(".js_img_center,.js-img-center").each(function(){$("<span></span>").appendTo($(this))}),initTable(),$.fn.baseCalendar=function(a){var b=this,c=[];seajs.importStyle(".ui-calendar-footer-item { float: left; display: inline; width: 50%; height: 22px; line-height: 22px; }.ui-calendar-footer-item:hover { background-color: #eee; cursor: pointer; }"),seajs.use(["$","calendar","calendar_style"],function($,a){a.prototype.zPlugin=function(){var a=this,b=this.element,d=$(b).find(".ui-calendar-footer");if(0==d.length){var e=$("<span>").addClass("ui-calendar-footer-item").text("清空"),f=$("<span>").addClass("ui-calendar-footer-item").text("今天"),d=$("<div class='ui-calendar-footer'>").append(e).append(f);$(b).find(".ui-calendar-container").after(d)}var e=d.find(".ui-calendar-footer-item:eq(0)").text("清空"),f=d.find(".ui-calendar-footer-item:eq(1)").text("今天");return $(e).click(function(){if($(a.attrs.trigger.value).val(""),a.hide(),c.length>0)for(var b in c)c[b].range([null,null])}),$(f).click(function(){$(a.attrs.trigger.value).val((new Date).getTime().toStringByMillsec()),a.hide()}),this},c[0]=new a({trigger:b[0]}).zPlugin(),2==b.length&&(c[1]=new a({trigger:b[1]}).on("selectDate",function(a){var b=$(c[0].element).find(".ui-calendar-footer-item:eq(1)");a._d<new Date?b.hide():b.show(),c[0].range([null,a])}).zPlugin(),c[0].on("selectDate",function(a){var b=$(c[1].element).find(".ui-calendar-footer-item:eq(1)");a._d>new Date?b.hide():b.show(),c[1].range([a,null])}))}),Number.prototype.toStringByMillsec=function(a){var b=a||"YYYY-MM-DD",c=this,d="";return seajs.use(["moment"],function(a){d=a(c).format(b)}),d}},$("#start-cal,#end-cal").baseCalendar(),function($){$.fn.extend({numberPlugin:function(a,b){var c={maxerror:"购买量太大",minerror:"商品没有达到起批量的要求",mouseRoller:!0,keyRoller:!0},d=$.extend(c,a),e=$(this),f=0;$(e).each(function(a,c){function e(){l>=k?$(g).hasClass("disable")&&$(g).removeClass("disable"):($(g).addClass("disable"),l=k),j>=l?$(h).hasClass("disable")&&$(h).removeClass("disable"):($(h).addClass("disable"),l=j,remind("error",d.maxerror,function(){})),$(c).val(l),clearTimeout(f),f=setTimeout(function(){b&&b(l,$(c))},382)}var g=$('<a href="javascript:void(0)" class="minus disable">-</a>'),h=$('<a href="javascript:void(0)" class="plus">+</a>'),i=$("<div class='number-plugin'>").appendTo($(c).parent());i.append(c).append(h).prepend(g);var j=Number($(c).data("max")),k=$(c).data("min")?Number($(c).data("min")):0,l=Number($(c).val());0==$(c).has(":disabled").length&&(d.mouseRoller&&$(c).numberRoller(function(a){c.value=a>0?Number(c.value)+1:Number(c.value)-1,$(c).trigger("keyup")}),$(g).click(function(a){a.preventDefault(),l-=1,e()}),$(h).click(function(a){a.preventDefault(),l+=1,e()}),$(c).keyup(function(a){l=Number($(this).val()),e()}),d.keyRoller&&$(c).keydown(function(a){39==a.keyCode||38==a.keyCode?$(h).trigger("click"):(40==a.keyCode||37==a.keyCode)&&$(g).trigger("click")}))})},numberRoller:function(a){function b(b){b&&(b.preventDefault(),b=b||window.event,a((b.wheelDelta||-b.detail)>0?1:0))}$(this).focus(function(){this.addEventListener&&this.addEventListener("DOMMouseScroll",b,!1),this.onmousewheel=b})}})}(jQuery),$(".fast_content dd").click(function(){$(this).toggleClass("selected")}),$(".fast_panel .button_cancel").click(function(){$(".treepanel .current_item").removeClass("current_item")});