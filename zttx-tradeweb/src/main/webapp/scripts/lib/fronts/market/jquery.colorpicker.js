!function($){var a=new Array("00","33","66","99","CC","FF"),b=new Array("FF0000","00FF00","0000FF","FFFF00","00FFFF","FF00FF");$.fn.colorpicker=function(c){function d(){$("body").append('<div id="colorpanel" style="position: absolute; display: none; z-index: 12;"></div>');var c="",d="";for(i=0;i<2;i++)for(j=0;j<6;j++)for(c+="<tr height=12>",c+='<td width=11 rel="#000000" style="background-color:#000000">',d=0==i?a[j]+a[j]+a[j]:b[j],c=c+'<td width=11 rel="#'+d+'" style="background-color:#'+d+'">',c+='<td width=11 rel="#000000" style="background-color:#000000">',k=0;k<3;k++)for(l=0;l<6;l++)d=a[k+3*i]+a[l]+a[j],c=c+'<td width=11 rel="#'+d+'" style="background-color:#'+d+'">';c='<table width=253 border="0" cellspacing="0" cellpadding="0" style="border:1px solid #000;"><tr height=30><td colspan=21 bgcolor=#cccccc><table cellpadding="0" cellspacing="1" border="0" style="border-collapse: collapse"><tr><td width="3"><td><input type="text" id="DisColor" size="6" disabled style="border:solid 1px #000000;background-color:#ffff00"></td><td width="3"><td><input type="text" id="HexColor" size="7" style="border:inset 1px;font-family:Arial;" value="#000000"><a href="javascript:void(0);" id="_cclose">关闭</a> | <a href="javascript:void(0);" id="_creset">清除</a></td></tr></table></td></table><table id="CT" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse" bordercolor="000000"  style="cursor:pointer;">'+c+"</table>",$("#colorpanel").html(c),$("#_cclose").on("click",function(){return $("#colorpanel").hide(),!1}).css({"font-size":"12px","padding-left":"20px"})}function e(a){var b;return a&&a.constructor==Array&&3==a.length&&(a=a),(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))&&(a=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])]),(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))&&(a=[2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3])]),(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))&&(a=[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]),(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))&&(a=[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]),"rgb("+a[0]+","+a[1]+","+a[2]+")"}var f=jQuery.extend({},jQuery.fn.colorpicker.defaults,c);return d(),this.each(function(){var a=$(this);a.bind(f.event,function(){var b=$(this).offset().top,c=$(this).height(),d=$(this).offset().left;$("#colorpanel").css({top:b+c+5,left:d}).show();var g=f.target?$(f.target):a;null==g.data("color")&&g.data("color",g.css("color")),null==g.data("value")&&g.data("value",g.val()),$("#_creset").bind("click",function(){g.css("color",g.data("color")).val(g.data("value")),$("#colorpanel").hide(),f.reset(a)}),$("#CT tr td").unbind("click").mouseover(function(){var a=$(this).css("background-color");$("#DisColor").css("background",a),$("#HexColor").val($(this).attr("rel"))}).click(function(){var b=$(this).attr("rel");b=f.ishex?b:e(b),f.fillcolor&&g.val(b),g.css("color",b),$("#colorpanel").hide(),$("#_creset").unbind("click"),f.success(a,b)})})})},jQuery.fn.colorpicker.defaults={ishex:!0,fillcolor:!1,target:null,event:"click",success:function(){},reset:function(){}}}(jQuery);