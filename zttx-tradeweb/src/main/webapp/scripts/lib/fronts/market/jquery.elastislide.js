!function(a,$,b){$.fn.touchwipe=function(a){var b={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};return a&&$.extend(b,a),this.each(function(){function a(){this.removeEventListener("touchmove",c),e=null,g=!1}function c(c){if(b.preventDefaultEvents&&c.preventDefault(),g){var d=c.touches[0].pageX,h=c.touches[0].pageY,i=e-d,j=f-h;Math.abs(i)>=b.min_move_x?(a(),i>0?b.wipeLeft():b.wipeRight()):Math.abs(j)>=b.min_move_y&&(a(),j>0?b.wipeDown():b.wipeUp())}}function d(a){1==a.touches.length&&(e=a.touches[0].pageX,f=a.touches[0].pageY,g=!0,this.addEventListener("touchmove",c,!1))}var e,f,g=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",d,!1)}),this},$.elastislide=function(a,b){this.$el=$(b),this._init(a)},$.elastislide.defaults={speed:450,easing:"",imageW:190,margin:3,border:2,minItems:1,current:0,onClick:function(){return!1}},$.elastislide.prototype={_init:function(a){this.options=$.extend(!0,{},$.elastislide.defaults,a),this.$slider=this.$el.find("ul"),this.$items=this.$slider.children("li"),this.itemsCount=this.$items.length,this.$esCarousel=this.$slider.parent(),this._validateOptions(),this._configure(),this._addControls(),this._initEvents(),this.$slider.show(),this._slideToCurrent(!1)},_validateOptions:function(){this.options.speed<0&&(this.options.speed=450),this.options.margin<0&&(this.options.margin=4),this.options.border<0&&(this.options.border=1),(this.options.minItems<1||this.options.minItems>this.itemsCount)&&(this.options.minItems=1),this.options.current>this.itemsCount-1&&(this.options.current=0)},_configure:function(){this.current=this.options.current,this.visibleWidth=this.$esCarousel.width(),this.visibleWidth<this.options.minItems*(this.options.imageW+2*this.options.border)+(this.options.minItems-1)*this.options.margin?(this._setDim((this.visibleWidth-(this.options.minItems-1)*this.options.margin)/this.options.minItems),this._setCurrentValues(),this.fitCount=this.options.minItems):(this._setDim(),this._setCurrentValues()),this.$slider.css({width:this.sliderW})},_setDim:function(a){this.$items.css({marginRight:this.options.margin,width:a?a:this.options.imageW+2*this.options.border}).children("a").css({borderWidth:this.options.border})},_setCurrentValues:function(){this.itemW=this.$items.outerWidth(!0),this.sliderW=this.itemW*this.itemsCount,this.visibleWidth=this.$esCarousel.width(),this.fitCount=Math.floor(this.visibleWidth/this.itemW)},_addControls:function(){this.$navNext=$('<span class="es-nav-next">Next</span>'),this.$navPrev=$('<span class="es-nav-prev">Previous</span>'),$('<div class="es-nav"/>').append(this.$navPrev).append(this.$navNext).appendTo(this.$el)},_toggleControls:function(a,b){a&&b?1===b?"right"===a?this.$navNext.show():this.$navPrev.show():"right"===a?this.$navNext.hide():this.$navPrev.hide():(this.current===this.itemsCount-1||this.fitCount>=this.itemsCount)&&this.$navNext.hide()},_initEvents:function(){var b=this;$(a).bind("resize.elastislide",function(a){b._setCurrentValues(),b.visibleWidth<b.options.minItems*(b.options.imageW+2*b.options.border)+(b.options.minItems-1)*b.options.margin?(b._setDim((b.visibleWidth-(b.options.minItems-1)*b.options.margin)/b.options.minItems),b._setCurrentValues(),b.fitCount=b.options.minItems):(b._setDim(),b._setCurrentValues()),b.$slider.css({width:b.sliderW+10}),clearTimeout(b.resetTimeout),b.resetTimeout=setTimeout(function(){b._slideToCurrent()},200)}),this.$navNext.bind("click.elastislide",function(a){b._slide("right")}),this.$navPrev.bind("click.elastislide",function(a){b._slide("left")}),this.$items.bind("click.elastislide",function(a){return b.options.onClick($(this)),!1}),b.$slider.touchwipe({wipeLeft:function(){b._slide("right")},wipeRight:function(){b._slide("left")}})},_slide:function(a,c,d,e){if(this.$slider.is(":animated"))return!1;var f=parseFloat(this.$slider.css("margin-left"));if(c===b){var c,g=this.fitCount*this.itemW;if(0>g)return!1;if("right"===a&&this.sliderW-(Math.abs(f)+g)<this.visibleWidth)g=this.sliderW-(Math.abs(f)+this.visibleWidth)-this.options.margin,this._toggleControls("right",-1),this._toggleControls("left",1);else if("left"===a&&Math.abs(f)-g<0)g=Math.abs(f),this._toggleControls("left",-1),this._toggleControls("right",1);else{var h;h="right"===a?Math.abs(f)+this.options.margin+Math.abs(g):Math.abs(f)-this.options.margin-Math.abs(g),h>0?this._toggleControls("left",1):this._toggleControls("left",-1),h<this.sliderW-this.visibleWidth?this._toggleControls("right",1):this._toggleControls("right",-1)}c="right"===a?"-="+g:"+="+g}else{var h=Math.abs(c);Math.max(this.sliderW,this.visibleWidth)-h<this.visibleWidth&&(c=-(Math.max(this.sliderW,this.visibleWidth)-this.visibleWidth),0!==c&&(c+=this.options.margin),this._toggleControls("right",-1),h=Math.abs(c)),h>0?this._toggleControls("left",1):this._toggleControls("left",-1),Math.max(this.sliderW,this.visibleWidth)-this.visibleWidth>h+this.options.margin?this._toggleControls("right",1):this._toggleControls("right",-1)}$.fn.applyStyle=d===b?$.fn.animate:$.fn.css;var i={marginLeft:c};this.$slider.applyStyle(i,$.extend(!0,[],{duration:this.options.speed,easing:this.options.easing,complete:function(){e&&e.call()}}))},_slideToCurrent:function(a){var b=this.current*this.itemW;this._slide("",-b,a)},add:function(a,b){this.$items=this.$items.add(a),this.itemsCount=this.$items.length,this._setDim(),this._setCurrentValues(),this.$slider.css({width:this.sliderW}),this._slideToCurrent(),b&&b.call(a)},destroy:function(a){this._destroy(a)},_destroy:function(b){this.$el.unbind(".elastislide").removeData("elastislide"),$(a).unbind(".elastislide"),b&&b.call()}};var c=function(a){this.console&&console.error(a)};$.fn.elastislide=function(a){if("string"==typeof a){var b=Array.prototype.slice.call(arguments,1);this.each(function(){var d=$.data(this,"elastislide");return d?$.isFunction(d[a])&&"_"!==a.charAt(0)?void d[a].apply(d,b):void c("no such method '"+a+"' for elastislide instance"):void c("cannot call methods on elastislide prior to initialization; attempted to call method '"+a+"'")})}else this.each(function(){var b=$.data(this,"elastislide");b||$.data(this,"elastislide",new $.elastislide(a,this))});return this}}(window,jQuery);