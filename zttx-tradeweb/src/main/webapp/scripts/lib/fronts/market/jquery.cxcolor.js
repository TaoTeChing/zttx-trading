!function($){$.fn.cxColor=function(a){if(!(this.length<1)){a=$.extend({},$.cxColor.defaults,a);var b,c={jqObj:this,fn:{}};c.jqObj.val().length>0&&(a.color=c.jqObj.val());var d,e,f,g,h;e=$("<div></div>",{"class":"cxcolor"}).appendTo("body");var i=["00","33","66","99","cc","ff"],j=["ff0000","00ff00","0000ff","ffff00","00ffff","ff00ff"];h="<div class='panel_hd'><a class='reset' href='javascript://' rel='reset'>默认颜色</a><a class='clear' href='javascript://' rel='clear'>清除</a></div>",e.html(h),h="";for(var k=0;2>k;k++)for(var l=0;6>l;l++){h+="<tr>",h+="<td title='#000000' style='background-color:#000000'>",h+=0==k?"<td title='#"+i[l]+i[l]+i[l]+"' style='background-color:#"+i[l]+i[l]+i[l]+"'>":"<td title='#"+j[l]+"' style='background-color:#"+j[l]+"'>",h+="<td title='#000000' style='background-color:#000000'>";for(var m=0;3>m;m++)for(var n=0;6>n;n++)h+="<td title='#"+i[m+3*k]+i[n]+i[l]+"' style='background-color:#"+i[m+3*k]+i[n]+i[l]+"'>"}return f=$("<table></table>").html(h).appendTo(e),g=$("<div></div>",{"class":"cxcolor_lock"}).appendTo("body"),c.fn.show=function(){var a=document.body.clientWidth,b=document.body.clientHeight,d=e.outerWidth(),f=e.outerHeight(),h=c.jqObj.offset().top,i=c.jqObj.offset().left,j=c.jqObj.outerWidth(),k=c.jqObj.outerHeight();h=h+f+k>b?h-f:h+k,i=i+d>a?i-(d-j):i,e.css({top:h,left:i}).show(),g.css({width:a,height:b}).show()},c.fn.hide=function(){e.hide(),g.hide()},c.fn.change=function(a){d=a,c.jqObj.val(d).css("backgroundColor",d),c.jqObj.trigger("change"),c.fn.hide()},c.fn.setColor=function(a){return a?void c.fn.change(a):d},c.fn.reset=function(){c.fn.change(a.color)},c.fn.clear=function(){c.fn.change("")},e.delegate("a","click",function(){if(this.rel){var a=this.rel;switch(a){case"reset":return c.fn.reset(),!1;case"clear":return c.fn.clear(),!1}}}),f.delegate("td","click",function(){var a=this.title;c.fn.change(a)}),c.jqObj.bind("click",function(){c.fn.show()}),g.bind("click",function(){c.fn.hide()}),c.fn.change(a.color),b={jqubj:c.jqobj,show:c.fn.show,hide:c.fn.hide,color:c.fn.setColor,reset:c.fn.reset,clear:c.fn.clear}}},$.cxColor={defaults:{color:"#000000"}}}(jQuery);